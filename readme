# ğŸ—‘ï¸ FileRemover

Application de suppression de fichiers avec choix corbeille/dÃ©finitif pour KDE Dolphin sur Fedora.

## ğŸ“‹ Description

FileRemover ajoute un menu contextuel personnalisÃ© dans Dolphin qui vous permet de choisir entre :
- **ğŸ—‘ï¸ DÃ©placer vers la corbeille** : Suppression rÃ©versible, vous pouvez rÃ©cupÃ©rer les fichiers
- **âš ï¸ Supprimer dÃ©finitivement** : Suppression irrÃ©versible avec confirmation

Plus besoin de maintenir Shift+Suppr ou d'aller dans les paramÃ¨tres - choisissez directement depuis le clic droit !

## âœ¨ FonctionnalitÃ©s

- âœ… Interface graphique intuitive avec PyQt6
- âœ… Support de la sÃ©lection multiple
- âœ… Confirmation pour la suppression dÃ©finitive
- âœ… Gestion des erreurs avec messages dÃ©taillÃ©s
- âœ… IntÃ©gration native dans Dolphin
- âœ… Compatible Plasma 6

## ğŸ–¼ï¸ AperÃ§u

AprÃ¨s installation, faites un clic droit sur n'importe quel fichier/dossier dans Dolphin :

```
Fichier sÃ©lectionnÃ©
â”œâ”€ Ouvrir
â”œâ”€ Ouvrir avec...
â”œâ”€ Couper
â”œâ”€ Copier
â”œâ”€ Supprimer (avec choix) â† Nouvelle option !
â””â”€ PropriÃ©tÃ©s
```

Une fenÃªtre s'ouvre avec vos choix :
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vous Ãªtes sur le point de suppr.  â”‚
â”‚                                     â”‚
â”‚  ğŸ—‚ï¸ X Ã©lÃ©ment(s)                    â”‚
â”‚                                     â”‚
â”‚  Que voulez-vous faire ?            â”‚
â”‚                                     â”‚
â”‚  [ ğŸ—‘ï¸ Tout dÃ©placer vers corbeille ]â”‚
â”‚  [ âš ï¸ Supprimer dÃ©finitivement ]    â”‚
â”‚  [ Annuler ]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ PrÃ©requis

### SystÃ¨me
- **OS** : Fedora (ou autre distribution Linux)
- **Environnement** : KDE Plasma 6
- **Gestionnaire de fichiers** : Dolphin

### DÃ©pendances Python
- Python 3.7 ou supÃ©rieur
- PyQt6
- send2trash

## ğŸš€ Installation

### Installation automatique (recommandÃ©e)

```bash
# Cloner ou tÃ©lÃ©charger le projet
cd fileremover

# Rendre le script d'installation exÃ©cutable
chmod +x install.sh

# Lancer l'installation
./install.sh
```

Le script d'installation va :
1. âœ… Installer le package Python
2. âœ… Configurer le menu contextuel Dolphin
3. âœ… Reconstruire le cache KDE
4. âœ… RedÃ©marrer Dolphin

### Installation manuelle

```bash
# Installer les dÃ©pendances systÃ¨me (Fedora)
sudo dnf install python3-pyqt6

# Installer le package Python
pip install --user -e .

# Installer le menu contextuel
fileremover --install-service

# Reconstruire le cache KDE
kbuildsycoca6

# RedÃ©marrer Dolphin
killall dolphin && dolphin &
```

## ğŸ“– Utilisation

### Via Dolphin (principal)
1. Ouvrez Dolphin
2. SÃ©lectionnez un ou plusieurs fichiers/dossiers
3. Clic droit â†’ **"Supprimer (avec choix)"**
4. Choisissez votre mÃ©thode de suppression

### En ligne de commande (avancÃ©)
```bash
# Supprimer des fichiers spÃ©cifiques
fileremover /chemin/fichier1.txt /chemin/dossier/

# Mode interactif (sÃ©lection de fichier)
fileremover
```

## âš™ï¸ Configuration

### Emplacement du menu contextuel
Le fichier de configuration se trouve ici :
```
~/.local/share/kio/servicemenus/fileremover.desktop
```

### Personnalisation
Vous pouvez modifier le fichier `.desktop` pour :
- Changer le nom du menu
- Modifier l'icÃ´ne
- Ajuster les types MIME supportÃ©s

Exemple :
```ini
[Desktop Action delete_choice]
Name=Mon menu personnalisÃ©
Icon=user-trash
Exec=fileremover %F
```

AprÃ¨s modification, reconstruisez le cache :
```bash
kbuildsycoca6
```

## ğŸ› ï¸ Structure du projet

```
fileremover/
â”œâ”€â”€ fileremover.py      # Script principal
â”œâ”€â”€ setup.py            # Configuration du package
â”œâ”€â”€ install.sh          # Script d'installation automatique
â””â”€â”€ README.md           # Ce fichier
```

## ğŸ› DÃ©pannage

### Le menu n'apparaÃ®t pas dans Dolphin

1. VÃ©rifiez que le fichier existe :
   ```bash
   ls -l ~/.local/share/kio/servicemenus/fileremover.desktop
   ```

2. Reconstruisez le cache :
   ```bash
   kbuildsycoca6
   ```

3. RedÃ©marrez Dolphin :
   ```bash
   killall dolphin && dolphin &
   ```

### Erreur "send2trash not found"

```bash
pip install --user send2trash
```

### Erreur "fileremover: command not found"

Ajoutez `~/.local/bin` Ã  votre PATH :
```bash
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
```

### ProblÃ¨me avec Plasma 5

Si vous utilisez encore Plasma 5, modifiez le chemin dans `fileremover.py` :
```python
# Changer de :
service_dir = Path.home() / ".local/share/kio/servicemenus"

# Vers :
service_dir = Path.home() / ".local/share/kservices5/ServiceMenus"
```

## ğŸ”’ SÃ©curitÃ©

- âš ï¸ La suppression dÃ©finitive est **IRRÃ‰VERSIBLE**
- Une confirmation est toujours demandÃ©e avant suppression dÃ©finitive
- Les fichiers dÃ©placÃ©s vers la corbeille peuvent Ãªtre rÃ©cupÃ©rÃ©s via l'application Corbeille de KDE

## ğŸ“ Licence

MIT License - Libre d'utilisation, modification et distribution.

## ğŸ¤ Contribution

Les contributions sont les bienvenues ! N'hÃ©sitez pas Ã  :
- Signaler des bugs
- Proposer des amÃ©liorations
- Soumettre des pull requests

## ğŸ‘¤ Auteur

CrÃ©Ã© pour faciliter la gestion des fichiers sur KDE Plasma.

## ğŸ“š Ressources

- [Documentation KDE Service Menus](https://develop.kde.org/docs/extend/plasma/servicemenu/)
- [PyQt6 Documentation](https://www.riverbankcomputing.com/static/Docs/PyQt6/)
- [send2trash Documentation](https://github.com/arsenetar/send2trash)

## ğŸ¯ Roadmap

- [ ] Support de la traduction multilingue
- [ ] Options de configuration via GUI
- [ ] Statistiques de suppression
- [ ] Mode "dÃ©placement sÃ©curisÃ©" avec Ã©crasement
- [ ] Support d'autres gestionnaires de fichiers (Nautilus, Thunar)

---

**Note** : Ce projet est conÃ§u spÃ©cifiquement pour KDE Plasma 6 sur Fedora, mais peut Ãªtre adaptÃ© pour d'autres distributions Linux avec KDE.